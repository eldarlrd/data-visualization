import{c as b,s as n,d as y,h as T,a as W}from"./index-DIb872qn.js";import{g as A}from"./api-B62J5DUa.js";import{b as $,a as z,l as C,m as O,c as B}from"./linear-BLWLttxn.js";const D={"01":"Q1","04":"Q2","07":"Q3",10:"Q4"},L=(e,a)=>{W(112),n(e.target).style("fill",y.COLORS.lightGreen);const[o,p]=a[0].split("-"),r=D[p],d=e.clientX,m=+n(e.target).attr("width"),w=window.innerWidth,h=n("#chart").node().getBoundingClientRect();let u=h.top+240,g=d+m+10;g+112>w&&(g=w-112-10),window.innerWidth<768&&(u=h.top+180),window.innerWidth<576&&(u=h.top+100),n("#tooltip").style("display","block").html(`
      <strong>
        ${o} ${r}
      </strong>
      <br>
      $${a[1].toLocaleString()} B
    `).attr("data-date",a[0]).style("top",`${u.toString()}px`).style("left",`${g.toString()}px`)},Q=e=>{const a=n("#chart").append("g").attr("transform","translate(40, 20)");a.append("text").attr("id","title").attr("x",-240).attr("y",20).attr("transform","rotate(-90)").text("Gross Domestic Product");const i=e.map(([t])=>+t.substring(0,4)),x=Array.from(new Set(i.filter(t=>t%5===0))),s=$().domain(e.map(([t])=>t)).range([0,600]),f=z(s),l=a.append("g").attr("id","x-axis").attr("transform","translate(0, 350)");l.call(f),l.selectAll("text").style("text-anchor","middle").text((t,o)=>x.includes(i[o])?i[o]:"").filter((t,o)=>o%4!==0).remove(),l.selectAll(".tick").filter((t,o,p)=>{var m;const r=p[o];if(!r||!(r instanceof Element))return!0;const d=r.querySelector("text");return d===null||((m=d.textContent)==null?void 0:m.trim())===""}).remove();const c=C().domain([0,O(e,([,t])=>t)??0]).range([350,0]),S=B(c).tickFormat(t=>`$${(+t/1e3).toString()} T`);a.append("g").attr("id","y-axis").call(S),a.selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr("fill",y.COLORS.green).attr("data-date",t=>t[0]).attr("data-gdp",t=>t[1]).attr("x",t=>s(t[0])??0).attr("y",t=>c(t[1])).attr("width",s.bandwidth()).attr("height",t=>350-c(t[1])).on("mouseover",L).on("mouseout",t=>{T(t,"green")})},E=()=>(A("gdp").then(e=>{Q(e.data)}).catch(e=>{e instanceof Error&&console.error(e)}),b(0,"chart"));export{E as BarChart};
