import{c as h,s as x,d as g,h as y,a as A}from"./index-CWHYqw6R.js";import{u as b}from"./useApi-C3ZJ7Fz9.js";import{b as S}from"./band-Bbu3waYT.js";import{a as w,l as $,b as v}from"./linear-Do45k01q.js";import{m as C}from"./max-DBeXZoyG.js";import"./ordinal-BUAAcmFa.js";const Q={"01":"Q1","04":"Q2","07":"Q3",10:"Q4"},E=(r,e)=>{const l="lightGreen",o=r.clientY,[c,s]=e[0].split("-"),n=Q[s];A({e:r,posY:o,width:7.5,fillColor:l}),x("#tooltip").html(`
        <strong class='fw-medium'>
          ${c} ${n}
        </strong>
        <br>
        $${e[1].toLocaleString()} B
      `).attr("data-date",e[0])},O=r=>{const e=x("#chart").append("g").attr("transform","translate(40, 20)");e.append("text").attr("id","title").attr("x",-240).attr("y",20).attr("transform","rotate(-90)").text("Gross Domestic Product");const i=r.map(([t])=>+t.substring(0,4)),l=Array.from(new Set(i.filter(t=>t%5===0))),o=S().domain(r.map(([t])=>t)).range([0,600]),c=w(o),s=e.append("g").attr("id","x-axis").attr("transform","translate(0, 350)");s.call(c),s.selectAll("text").style("text-anchor","middle").text((t,a)=>l.includes(i[a])?i[a]:"").filter((t,a)=>a%4!==0).remove(),s.selectAll(".tick").filter((t,a,f)=>{var p;const m=f[a];if(!m||!(m instanceof Element))return!0;const d=m.querySelector("text");return d===null||((p=d.textContent)==null?void 0:p.trim())===""}).remove();const n=$().domain([0,C(r,([,t])=>t)??0]).range([350,0]),u=v(n).tickFormat(t=>`$${(+t/1e3).toString()} T`);e.append("g").attr("id","y-axis").call(u),e.selectAll(".bar").data(r).enter().append("rect").attr("class","bar").attr("fill",g.COLORS.green).attr("data-date",t=>t[0]).attr("data-gdp",t=>t[1]).attr("x",t=>o(t[0])??0).attr("y",t=>n(t[1])).attr("width",o.bandwidth()).attr("height",t=>350-n(t[1])).on("mouseover",E).on("mouseout",t=>{y(t,"green")})},R=()=>(b("gdp").then(r=>{O(r.data)}).catch(r=>{r instanceof Error&&console.error(r)}),h(0,"chart"));export{R as BarChart};
