import{c as g,s as m,d as S,h as y,a as w}from"./index-CgN-64y7.js";import{u as A}from"./useApi-Cyi6M-ZX.js";import{b as T,a as b,l as v,m as C,c as $}from"./linear-DZPji4Eb.js";const B={"01":"Q1","04":"Q2","07":"Q3",10:"Q4"},Q=(e,r)=>{const[n,p]=r[0].split("-"),t=B[p],a=m("#chart").node().getBoundingClientRect(),u=7.5,o="lightGreen",l=+m(e.target).attr("width"),d=e.clientX+l;let x=a.top+240;window.innerWidth<768&&(x=a.top+180),window.innerWidth<576&&(x=a.top+100),w({e,posX:d,posY:x,width:u,fillColor:o}),m("#tooltip").html(`
      <strong>
        ${n} ${t}
      </strong>
      <br>
      $${r[1].toLocaleString()} B
    `).attr("data-date",r[0])},z=e=>{const r=m("#chart").append("g").attr("transform","translate(40, 20)");r.append("text").attr("id","title").attr("x",-240).attr("y",20).attr("transform","rotate(-90)").text("Gross Domestic Product");const s=e.map(([t])=>+t.substring(0,4)),h=Array.from(new Set(s.filter(t=>t%5===0))),i=T().domain(e.map(([t])=>t)).range([0,600]),f=b(i),c=r.append("g").attr("id","x-axis").attr("transform","translate(0, 350)");c.call(f),c.selectAll("text").style("text-anchor","middle").text((t,a)=>h.includes(s[a])?s[a]:"").filter((t,a)=>a%4!==0).remove(),c.selectAll(".tick").filter((t,a,u)=>{var d;const o=u[a];if(!o||!(o instanceof Element))return!0;const l=o.querySelector("text");return l===null||((d=l.textContent)==null?void 0:d.trim())===""}).remove();const n=v().domain([0,C(e,([,t])=>t)??0]).range([350,0]),p=$(n).tickFormat(t=>`$${(+t/1e3).toString()} T`);r.append("g").attr("id","y-axis").call(p),r.selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr("fill",S.COLORS.green).attr("data-date",t=>t[0]).attr("data-gdp",t=>t[1]).attr("x",t=>i(t[0])??0).attr("y",t=>n(t[1])).attr("width",i.bandwidth()).attr("height",t=>350-n(t[1])).on("mouseover",Q).on("mouseout",t=>{y(t,"green")})},R=()=>(A("gdp").then(e=>{z(e.data)}).catch(e=>{e instanceof Error&&console.error(e)}),g(0,"chart"));export{R as BarChart};
